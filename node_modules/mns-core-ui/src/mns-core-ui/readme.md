## Developer guidelines

Please read the [main readme](https://github.com/DigitalInnovation/mns-core-ui/blob/master/README.md) file that documents how the library is exposed to users of core-ui.

### SASS

Conventions in file naming are:

- Place all custom mixins, variables and functions in seperate files, i.e `_mixins.scss`, `_variables.scss` etc.
- Use a prefix of `_module_my-module.scss` for singular functional deliverables.

This approach and more is documented here https://speakerdeck.com/anotheruiguy/clean-out-your-sass-junk-drawer

#### Paths

Path names internal to the mns-core-ui library should be relative e.g `@import '../../base'` NOT `@import 'mns-core-base/base'`

### Globals and components

These only expose SASS assets and hence do not need a SASS folder, SASS files are located at the top level folder for that global or component.

SASS files that only contain variables, mixins or functions are grouped into a `_base.scss` file. That means that anything else that has a dependency can import this \_base.scss file, safe in the knowledge that CSS output is not going to be duplicated. Also this means that dependency needs to have no knowledge of the internal structure or naming of files within its dependant.

### Modules and templates

These will likely have other assets like Javascript, so these should have assets in their own folder i.e js or sass. You should then define a webpack entry point using the Convention `webpack.dist.js` to collate these assets. If you then add an entry in [config/webpack/dist.js](https://github.com/DigitalInnovation/mns-core-ui/blob/master/config/webpack/dist.js) assets for this will created in dist folder when a production build is ran. This also means that if the entry point is used directly by the consuming application, that application has the opportunity to optimize chunks (https://github.com/webpack/docs/wiki/list-of-plugins#commonschunkplugin)

#### Creating a module or template:
- It is assumed that globals has already been imported by the consuming application so don't import it again in your SASS files.
- Add `@import 'mns-core-ui/base` to the begining of your main SASS styles file.
- Any dependant components, modules or templates must be specified in the webpack entry using a require `require('../_buttons.scss')`.
This will allow webpack to optimise and remove duplication of CSS and JS.

### Examples

Whatever you create will need an examples page to develop and run tests against. Create an examples folder for this purpose, in this you will need a markup file `body.hbs` and a webpack entry file `webpack.example.js`. You should put the webpack entry path in [config/webpack/dev.js](https://github.com/DigitalInnovation/mns-core-ui/blob/master/config/webpack/dev.js) so that the page is built during a dev build. you may want to add a `styles.scss` file so that all SASS compilation in done in the same instance, otherwise you could find that there are dependencies ascross webpack chunks and the compiler will fail, e.g in the use of swatches in colors and icons.

### Tests

Tests should be placed in a test folder. For tests to run they need to adhere to the following conventions:

- Unit tests `module.unit.spec.js`
- Visual Regression `module.visual.spec.js`
- E2E `module.e2e.spec.js`

#### Accessibility

If Accessibility testing is a requirement then a url to the example body should be entered in test/accessibility/index.js. These tests can be run with `npm run test:accessibility` and reports will be generated in the reports folder.