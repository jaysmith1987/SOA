import NavigationDesktopPage from './pageObject/navigation.desktop.page';

describe('Global Navigation', () => {

    let navigationDesktopPage = new NavigationDesktopPage();

    before(()=> {
        navigationDesktopPage.open();
    });

    describe('Desktop', () => {

        it('Level 1', () => {

            var result = browser.webdrivercss('template__navigation--desktop', [
                {
                    name: 'level1',
                    elem: '.nav__level1-panel',
                    screenWidth: [breakpoint.xlarge.width, breakpoint.large.width]
                }
            ]);

            isWithinMisMatchTolerance(result);
        });

        it('Sub Menu', () => {
            navigationDesktopPage.level1MenuItems.value.forEach(function(el, index) {

                let menuItem = navigationDesktopPage.hoverMenuItem(index);

                var result = browser.webdrivercss(`template__navigation--desktop-${index}`, [
                    {
                        name: 'nav-content',
                        elem: `${menuItem.selector} ~ .nav__content`,
                        screenWidth: [breakpoint.xlarge.width]
                    }
                ]);

                isWithinMisMatchTolerance(result);

            });
        });
    });
});
