import Desktop from './desktop';
import Mobile from './mobile';

export default class Navigation {

    /**
     * @description create global navigation UI template
     * @param events
     * @returns {void}
     */
    constructor(events) {

        window.addEventListener('resize', () => {
            this.loadDeviceJs(events);
        });

        this.loadDeviceJs(events);
    }

    loadDeviceJs(events) {
        if (window.innerWidth <= 900) {
            if (!this.mobile) {
                this.mobile = new Mobile(events);
                this.mobile.bind();
            }

            if (this.desktop) {
                this.desktop.unbind();
                this.desktop = undefined;
            }
        } else {
            if (!this.desktop) {
                this.desktop = new Desktop(events);
                this.desktop.bind();
            }

            if (this.mobile) {
                this.mobile.unbind();
                this.mobile = undefined;
            }
        }
    }
}
